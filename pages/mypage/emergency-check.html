<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê¸´ê¸‰ ì§„ë‹¨ - ë¡œê·¸ì¸/ë¡œê·¸ì•„ì›ƒ ë©”ë‰´</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="../../css/style.css">
    <link rel="stylesheet" href="../../css/login.css">
    <style>
        body {
            padding: 40px;
            background: #1e1e1e;
            color: #fff;
            font-family: 'Noto Sans KR', sans-serif;
        }
        .panel {
            max-width: 1000px;
            margin: 0 auto;
            background: #2d2d2d;
            padding: 30px;
            border-radius: 12px;
        }
        h1 { color: #4ec9b0; margin-bottom: 30px; }
        h2 { color: #dcdcaa; margin-top: 30px; }
        .success { color: #4ec9b0; }
        .error { color: #f48771; }
        .warning { color: #ce9178; }
        pre {
            background: #1e1e1e;
            padding: 15px;
            border-radius: 8px;
            overflow: auto;
            border-left: 3px solid #4ec9b0;
            font-size: 13px;
        }
        button {
            padding: 12px 24px;
            margin: 10px 5px;
            background: #0e639c;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
        }
        button:hover { background: #1177bb; }
        .status-box {
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            background: #252525;
            border-left: 4px solid #4ec9b0;
        }
    </style>
</head>
<body>
    <div class="panel">
        <h1>ğŸ”¬ ê¸´ê¸‰ ì§„ë‹¨: ë¡œê·¸ì¸/ë¡œê·¸ì•„ì›ƒ ë©”ë‰´</h1>
        
        <div class="status-box">
            <h3>ğŸ“ í˜„ì¬ ìœ„ì¹˜</h3>
            <pre id="currentUrl">í™•ì¸ ì¤‘...</pre>
        </div>
        
        <h2>1. ë¹ ë¥¸ ì•¡ì…˜</h2>
        <button onclick="forceLogin()">âœ… ê°•ì œ ë¡œê·¸ì¸</button>
        <button onclick="checkStatus()">ğŸ” ìƒíƒœ í™•ì¸</button>
        <button onclick="goToProfile()">ğŸ‘¤ í”„ë¡œí•„ í˜ì´ì§€ë¡œ ì´ë™</button>
        
        <div id="results"></div>
    </div>

    <script src="../../js/auth.js"></script>
    <script>
        // í˜„ì¬ URL í‘œì‹œ
        document.getElementById('currentUrl').textContent = window.location.href;
        
        function forceLogin() {
            const userData = {
                id: 'jongjean@naver.com',
                name: 'Jongjean',
                role: 'admin',
                loginTime: new Date().toISOString()
            };
            localStorage.setItem('user', JSON.stringify(userData));
            document.body.classList.add('user-logged-in');
            
            alert('âœ… ë¡œê·¸ì¸ ì™„ë£Œ!\n\nì§€ê¸ˆ í”„ë¡œí•„ í˜ì´ì§€ë¡œ ì´ë™í•˜ì„¸ìš”.');
            checkStatus();
        }
        
        function checkStatus() {
            const results = document.getElementById('results');
            
            // ë¡œê·¸ì¸ ë°ì´í„° í™•ì¸
            const localUser = localStorage.getItem('user');
            const user = localUser ? JSON.parse(localUser) : null;
            
            // body í´ë˜ìŠ¤ í™•ì¸
            const hasClass = document.body.classList.contains('user-logged-in');
            
            let html = '<h2>ğŸ“Š ì§„ë‹¨ ê²°ê³¼</h2>';
            html += '<div class="status-box">';
            html += '<pre>';
            html += `<span class="${localUser ? 'success' : 'error'}">localStorage.user: ${localUser ? 'âœ… ìˆìŒ' : 'âŒ ì—†ìŒ'}</span>\n`;
            html += `<span class="${hasClass ? 'success' : 'error'}">body.user-logged-in: ${hasClass ? 'âœ… ìˆìŒ' : 'âŒ ì—†ìŒ'}</span>\n\n`;
            
            if (user) {
                html += `ì‚¬ìš©ì ì •ë³´:\n`;
                html += `  ID: ${user.id}\n`;
                html += `  Name: ${user.name}\n`;
                html += `  Role: ${user.role || 'N/A'}\n`;
            }
            
            html += '</pre>';
            html += '</div>';
            
            // ê²°ê³¼ íŒì •
            html += '<h2>ğŸ¯ ë‹¤ìŒ ë‹¨ê³„</h2>';
            html += '<div class="status-box">';
            if (user && hasClass) {
                html += '<p class="success">âœ… ë¡œê·¸ì¸ ì™„ë£Œ!</p>';
                html += '<p>ì§€ê¸ˆ <strong>í”„ë¡œí•„ í˜ì´ì§€</strong>ë¡œ ì´ë™í•´ì„œ ë“œë¡­ë‹¤ìš´ì„ í™•ì¸í•˜ì„¸ìš”.</p>';
                html += '<button onclick="goToProfile()" style="margin-top: 15px;">ğŸ‘¤ í”„ë¡œí•„ í˜ì´ì§€ë¡œ ì´ë™</button>';
            } else {
                html += '<p class="error">âŒ ë¡œê·¸ì¸ í•„ìš”</p>';
                html += '<p>"ê°•ì œ ë¡œê·¸ì¸" ë²„íŠ¼ì„ í´ë¦­í•˜ì„¸ìš”.</p>';
            }
            html += '</div>';
            
            results.innerHTML = html;
        }
        
        function goToProfile() {
            window.location.href = 'profile.html';
        }
        
        // í˜ì´ì§€ ë¡œë“œ ì‹œ ìë™ ì²´í¬
        window.addEventListener('load', () => {
            checkStatus();
        });
    </script>
</body>
</html>
